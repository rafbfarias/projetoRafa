<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Novo Projeto - Sistema de Gestão</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="../../css/styles.css" rel="stylesheet">
    <style>
        /* Estilo para scroll independente */
        .layout-container {
            display: flex;
            height: 100vh;
            overflow: hidden;
        }
        
        .sidebar-container {
            flex-shrink: 0;
            height: 100vh;
            overflow-y: auto;
            position: sticky;
            top: 0;
        }
        
        .main-container {
            flex-grow: 1;
            height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
        }

        /* Estilizar a barra de rolagem */
        .sidebar-container::-webkit-scrollbar,
        .main-container::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar-container::-webkit-scrollbar-track,
        .main-container::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .sidebar-container::-webkit-scrollbar-thumb,
        .main-container::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 3px;
        }

        .sidebar-container::-webkit-scrollbar-thumb:hover,
        .main-container::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body class="bg-primary">
    <div class="layout-container">
        <!-- Sidebar -->
        <div class="sidebar-container">
            <app-sidebar></app-sidebar>
        </div>

        <!-- Conteúdo Principal -->
        <div class="main-container">
            <div class="p-8 pb-16">
                <!-- Cabeçalho -->
                <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-8">
                    <div>
                        <h1 class="texr-left text-2xl font-bold">Criar Novo Projeto</h1>
                        <p class="text-muted">Defina as informações e configurações do projeto</p>
                    </div>
                    <div class="mt-4 md:mt-0 flex space-x-3">
                        <button type="button" class="btn btn-secondary" onclick="history.back()">
                            <i class="fas fa-arrow-left mr-2"></i>
                            <span>Cancelar</span>
                        </button>
                        <button type="button" id="save-project" class="btn btn-primary">
                            <i class="fas fa-save mr-2"></i>
                            <span>Salvar Projeto</span>
                        </button>
                    </div>
                </div>

                <!-- Formulário -->
                <form id="project-form">
                    <div class="grid grid-cols-1 gap-6">
                        <!-- Seção de Informações Básicas -->
                        <div class="dashboard-card p-6">
                            <h2 class="text-lg font-semibold mb-4">Informações Básicas</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="col-span-2">
                                    <label for="project-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Nome do Projeto <span class="text-red-500">*</span></label>
                                    <input type="text" id="project-name" class="form-input" placeholder="Digite o nome do projeto" required>
                                </div>
                                <div class="col-span-2">
                                    <label for="project-description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Descrição <span class="text-red-500">*</span></label>
                                    <textarea id="project-description" rows="3" class="form-textarea" placeholder="Descreva o objetivo e escopo do projeto" required></textarea>
                                </div>
                                <div>
                                    <label for="project-area" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Área <span class="text-red-500">*</span></label>
                                    <select id="project-area" class="form-select" required>
                                        <option value="">Selecione a área</option>
                                        <option value="RH">RH</option>
                                        <option value="Finanças">Finanças</option>
                                        <option value="Procurement">Procurement</option>
                                        <option value="Cozinha">Cozinha</option>
                                        <option value="TI">TI</option>
                                        <option value="Marketing">Marketing</option>
                                        <option value="Vendas">Vendas</option>
                                        <option value="Compliance">Compliance</option>
                                        <option value="Operações">Operações</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="project-status" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Status Inicial <span class="text-red-500">*</span></label>
                                    <select id="project-status" class="form-select" required>
                                        <option value="planejamento">Planejamento</option>
                                        <option value="em-andamento">Em Andamento</option>
                                        <option value="pausado">Pausado</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="project-start-date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Data de Início <span class="text-red-500">*</span></label>
                                    <input type="text" id="project-start-date" class="form-input datepicker" placeholder="DD/MM/AAAA" required>
                                </div>
                                <div>
                                    <label for="project-end-date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Data de Término <span class="text-red-500">*</span></label>
                                    <input type="text" id="project-end-date" class="form-input datepicker" placeholder="DD/MM/AAAA" required>
                                </div>
                                <div>
                                    <label for="project-priority" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Prioridade <span class="text-red-500">*</span></label>
                                    <select id="project-priority" class="form-select" required>
                                        <option value="baixa">Baixa</option>
                                        <option value="media" selected>Média</option>
                                        <option value="alta">Alta</option>
                                        <option value="urgente">Urgente</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="project-budget" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Orçamento (opcional)</label>
                                    <input type="number" id="project-budget" class="form-input" placeholder="€ 0,00">
                                </div>
                            </div>
                        </div>

                        <!-- Seção de Objetivos e Escopo -->
                        <div class="dashboard-card p-6">
                            <h2 class="text-lg font-semibold mb-4">Objetivos e Escopo</h2>
                            <div class="grid grid-cols-1 gap-4">
                                <div>
                                    <label for="project-objectives" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Objetivos <span class="text-red-500">*</span></label>
                                    <textarea id="project-objectives" rows="3" class="form-textarea" placeholder="Liste os principais objetivos do projeto" required></textarea>
                                    <p class="text-xs text-gray-500 mt-1">Descreva os objetivos específicos que o projeto busca alcançar</p>
                                </div>
                                <div>
                                    <label for="project-deliverables" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Entregáveis</label>
                                    <textarea id="project-deliverables" rows="3" class="form-textarea" placeholder="Liste os principais entregáveis do projeto"></textarea>
                                    <p class="text-xs text-gray-500 mt-1">Descreva os produtos, serviços ou resultados específicos que serão entregues</p>
                                </div>
                                <div>
                                    <label for="project-success-criteria" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Critérios de Sucesso</label>
                                    <textarea id="project-success-criteria" rows="3" class="form-textarea" placeholder="Defina os critérios para o sucesso do projeto"></textarea>
                                    <p class="text-xs text-gray-500 mt-1">Como será medido o sucesso deste projeto?</p>
                                </div>
                            </div>
                        </div>

                        <!-- Seção de Equipe -->
                        <div class="dashboard-card p-6">
                            <h2 class="text-lg font-semibold mb-4">Equipe do Projeto</h2>
                            <div class="mb-4">
                                <label for="project-manager" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Gerente do Projeto <span class="text-red-500">*</span></label>
                                <select id="project-manager" class="form-select" required>
                                    <option value="">Selecione o gerente</option>
                                    <option value="1">Ana Silva (você)</option>
                                    <option value="2">João Santos</option>
                                    <option value="3">Maria Oliveira</option>
                                    <option value="4">Carlos Souza</option>
                                </select>
                            </div>
                            
                            <div class="mb-4">
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Membros da Equipe</label>
                                <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                    <div class="mb-4">
                                        <div class="relative">
                                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                <i class="fas fa-search text-gray-400"></i>
                                            </div>
                                            <input type="text" id="team-search" class="form-input pl-10 w-full" placeholder="Buscar usuários...">
                                        </div>
                                    </div>
                                    
                                    <div class="max-h-60 overflow-y-auto mb-4">
                                        <div class="space-y-2" id="team-members-list">
                                            <!-- Lista de membros será preenchida via JavaScript -->
                                            <div class="text-center text-gray-500 dark:text-gray-400 py-4 hidden" id="no-members-message">
                                                Não há usuários disponíveis para seleção
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Notificações -->
                            <div class="mt-4">
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Notificações</label>
                                <div class="space-y-3">
                                    <label class="flex items-start cursor-pointer">
                                        <div class="flex items-center h-5">
                                            <input type="checkbox" id="notify-members" class="form-checkbox">
                                        </div>
                                        <span class="ml-3 text-sm text-gray-700 dark:text-gray-300">
                                            Notificar membros sobre a criação do projeto
                                        </span>
                                    </label>
                                    
                                    <label class="flex items-start cursor-pointer">
                                        <div class="flex items-center h-5">
                                            <input type="checkbox" id="notify-updates" class="form-checkbox">
                                        </div>
                                        <span class="ml-3 text-sm text-gray-700 dark:text-gray-300">
                                            Notificar sobre atualizações nas atividades
                                        </span>
                                    </label>
                                    
                                    <label class="flex items-start cursor-pointer">
                                        <div class="flex items-center h-5">
                                            <input type="checkbox" id="notify-deadlines" class="form-checkbox" checked>
                                        </div>
                                        <span class="ml-3 text-sm text-gray-700 dark:text-gray-300">
                                            Notificar sobre prazos próximos
                                        </span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Configurações adicionais -->
                        <div class="dashboard-card p-6">
                            <h2 class="text-lg font-semibold mb-4">Configurações Adicionais</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="project-visibility" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Visibilidade</label>
                                    <select id="project-visibility" class="form-select">
                                        <option value="público">Público (visível para todos)</option>
                                        <option value="restrito">Restrito (apenas membros do projeto)</option>
                                        <option value="privado">Privado (apenas gerentes)</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="project-tags" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Tags</label>
                                    <input type="text" id="project-tags" class="form-input" placeholder="Ex: desenvolvimento, erp, finanças (separadas por vírgula)">
                                </div>
                            </div>
                            
                            <div class="mt-4">
                                <label for="project-notes" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Observações Adicionais</label>
                                <textarea id="project-notes" rows="3" class="form-textarea" placeholder="Informações adicionais importantes para o projeto"></textarea>
                            </div>
                        </div>

                        <!-- Botões de ação -->
                        <div class="flex justify-end space-x-3">
                            <button type="button" class="btn btn-secondary" onclick="history.back()">Cancelar</button>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save mr-2"></i>
                                Salvar Projeto
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="../../js/Sidebar.js"></script>
    <script src="../../js/project/project.js"></script>
    <script src="../../js/project/service.project.js"></script>
</body>
</html>