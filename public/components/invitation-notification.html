<div id="invitationNotification" class="fixed top-4 right-4 max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg z-50 overflow-hidden transform transition-all hidden">
    <div class="p-4 border-l-4 border-yellow-500">
        <div class="flex items-start">
            <div class="flex-shrink-0">
                <i class="fas fa-envelope text-yellow-500 text-xl"></i>
            </div>
            <div class="ml-3 w-0 flex-1 pt-0.5">
                <p class="text-sm font-medium text-gray-900 dark:text-white">Você tem convites pendentes</p>
                <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
                    <span id="pendingInvitationsCount">2</span> convites aguardam sua resposta.
                </p>
                <div class="mt-3 flex space-x-3">
                    <button id="viewInvitationsBtn" class="btn btn-primary btn-sm">
                        Ver Convites
                    </button>
                    <button id="dismissNotificationBtn" class="btn btn-secondary btn-sm">
                        Mais Tarde
                    </button>
                </div>
            </div>
            <div class="ml-4 flex-shrink-0 flex">
                <button id="closeNotificationBtn" class="bg-white dark:bg-gray-800 rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none">
                    <span class="sr-only">Fechar</span>
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Verificar se há convites pendentes
        checkPendingInvitations();
        
        // Inicializar botões
        initNotificationButtons();
    });
    
    /**
     * Verifica se há convites pendentes e exibe notificação
     */
    function checkPendingInvitations() {
        // Simulação de API - em produção, isso seria uma chamada real à API
        const pendingInvitations = 2; // Exemplo: 2 convites pendentes
        
        if (pendingInvitations > 0) {
            // Atualizar contador
            document.getElementById('pendingInvitationsCount').textContent = pendingInvitations;
            
            // Exibir notificação após 2 segundos
            setTimeout(() => {
                document.getElementById('invitationNotification').classList.remove('hidden');
            }, 2000);
        }
    }
    
    /**
     * Inicializa os botões da notificação
     */
    function initNotificationButtons() {
        const notification = document.getElementById('invitationNotification');
        const viewBtn = document.getElementById('viewInvitationsBtn');
        const dismissBtn = document.getElementById('dismissNotificationBtn');
        const closeBtn = document.getElementById('closeNotificationBtn');
        
        // Ver convites
        viewBtn.addEventListener('click', function() {
            window.location.href = '/pages/account/invitations.html';
        });
        
        // Fechar notificação
        closeBtn.addEventListener('click', function() {
            notification.classList.add('hidden');
        });
        
        // Adiar notificação
        dismissBtn.addEventListener('click', function() {
            notification.classList.add('hidden');
            
            // Armazenar no localStorage para não mostrar por 24 horas
            localStorage.setItem('invitationNotificationDismissed', new Date().toISOString());
        });
    }
</script> 