<!-- Sidebar -->
<nav id="sidebar" class="sidebar h-screen shadow-lg flex flex-col">
    <!-- Logo (Fixo no topo) -->
    <div class="flex items-center p-4 flex-shrink-0">
        <div class="w-10 h-10 bg-slate-900 rounded-lg flex items-center justify-center">
            <img src="/images/dineo-logo.png" alt="Dineo Logo" class="w-8 h-8">
        </div>
        <h1 class="text-3xl font-bold ml-3 text-white sidebar-logo-text">dineo.</h1>
        <button class="sidebar-toggle ml-auto text-white" id="sidebarToggle" aria-label="Toggle Sidebar">
            <i class="fas fa-chevron-left"></i>
        </button>
    </div>

    <!-- Avatar e Informações do Usuário (Fixo no topo) -->
    <div class="p-4 relative flex-shrink-0">
        <button id="avatarButton" class="flex items-center space-x-4 w-full">
            <div class="w-12 h-12 rounded-full overflow-hidden avatar flex-shrink-0">
                <img src="/images/users/4.png" alt="Avatar" class="avatar-image w-full h-full object-cover">
            </div>
            <div class="flex-1 min-w-0 sidebar-user-info">
                <p class="font-medium truncate text-white">Ana Silva</p>
                <p class="text-slate-400 text-sm truncate">Administradora</p>
            </div>
            <i class="fas fa-chevron-down text-slate-400"></i>
        </button>

        <!-- Dropdown Menu -->
        <div id="userDropdown" class="hidden absolute left-4 right-4 mt-2 bg-white divide-y divide-gray-100 rounded-lg shadow-lg dark:bg-gray-700 dark:divide-gray-600">
            <div class="px-4 py-3 text-sm text-gray-900 dark:text-white">
                <div class="user-name">Ana Silva</div>
                <div class="font-medium truncate user-email">ana.silva@dineo.com</div>
            </div>
            <ul class="py-2 text-sm text-gray-700 dark:text-gray-200">
                <li>
                    <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">
                        <i class="fas fa-user-circle mr-2"></i>Perfil
                    </a>
                </li>
                <li>
                    <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">
                        <i class="fas fa-cog mr-2"></i>Configurações
                    </a>
                </li>
                <li>
                    <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">
                        <i class="fas fa-bell mr-2"></i>Notificações
                    </a>
                </li>
            </ul>
            <div class="py-2">
                <a href="#" class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-red-500 dark:hover:text-red-400">
                    <i class="fas fa-sign-out-alt mr-2"></i>Sair
                </a>
            </div>
        </div>
    </div>

    <!-- Menu de Navegação (Área scrollável) -->
    <div class="flex-1 overflow-y-auto">
        <ul class="p-4 space-y-1">
            <li>
                <a href="/pages/dashboard.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                    <i class="fas fa-th-large w-5 text-center"></i>
                    <span class="sidebar-text">Dashboard</span>
                </a>
            </li>
            <li>
                <a href="/pages/tickets/dash.ticket.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                    <i class="fas fa-ticket-alt w-5 text-center"></i>
                    <span class="sidebar-text">Tickets</span>
                </a>
            </li>
            <li>
                <a href="/pages/reminder/dash.reminder.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                    <i class="fas fa-sticky-note w-5 text-center"></i>
                    <span class="sidebar-text">Reminder Board</span>
                    <span class="ml-auto bg-brand-600 text-white text-xs font-medium px-2 py-0.5 rounded-full sidebar-text">Novo</span>
                </a>
            </li>
            <!-- Adicionar após a seção de Reminder Board e antes de Account -->
            <li>
                <div class="menu-item flex items-center justify-between p-3 rounded-lg transition-colors cursor-pointer" data-submenu="projects">
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-project-diagram w-5 text-center"></i>
                        <span class="sidebar-text">Projetos</span>
                    </div>
                    <i class="fas fa-chevron-right sidebar-text transition-transform"></i>
                </div>
                <ul class="submenu pl-4 space-y-1" id="projects-submenu">
                    <li>
                        <a href="/pages/project/dash.project.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-tachometer-alt w-5 text-center"></i>
                            <span class="sidebar-text">Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="/pages/project/new.project.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-plus w-5 text-center"></i>
                            <span class="sidebar-text">Novo Projeto</span>
                        </a>
                    </li>
                    <li>
                        <a href="/pages/project/list.project.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-list w-5 text-center"></i>
                            <span class="sidebar-text">Lista de Projetos</span>
                        </a>
                    </li>
                </ul>
            </li>
            <!-- Account - Nova seção -->
            <li>
                <div class="menu-item flex items-center justify-between p-3 rounded-lg transition-colors cursor-pointer" data-submenu="account">
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-user-shield w-5 text-center"></i>
                        <span class="sidebar-text">Account</span>
                    </div>
                    <i class="fas fa-chevron-right sidebar-text transition-transform"></i>
                </div>
                <ul class="submenu pl-4 space-y-1" id="account-submenu">
                    <li>
                        <a href="/pages/account/dash.account.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-tachometer-alt w-5 text-center"></i>
                            <span class="sidebar-text">Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="/pages/account/users/user-management.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-users-cog w-5 text-center"></i>
                            <span class="sidebar-text">Gestão de Usuários</span>
                        </a>
                    </li>
                    <li>
                        <a href="/pages/account/invitation-view.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-envelope w-5 text-center"></i>
                            <span class="sidebar-text">Convites</span>
                        </a>
                    </li>
                </ul>
            </li>
            
            <!-- Config - Nova seção -->
            <li>
                <div class="menu-item flex items-center justify-between p-3 rounded-lg transition-colors cursor-pointer" data-submenu="config">
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-cogs w-5 text-center"></i>
                        <span class="sidebar-text">Configurações</span>
                    </div>
                    <i class="fas fa-chevron-right sidebar-text transition-transform"></i>
                </div>
                <ul class="submenu pl-4 space-y-1" id="config-submenu">
                    <li>
                        <a href="/pages/config/permission-templates.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-key w-5 text-center"></i>
                            <span class="sidebar-text">Templates de Permissões</span>
                        </a>
                    </li>
                    <li>
                        <a href="/pages/finance/expense/costConfig.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-cog w-5 text-center"></i>
                            <span class="sidebar-text">Config. de Custos</span>
                        </a>
                    </li>
                </ul>
            </li>
            
            <!-- RH -->
            <li>
                <div class="menu-item flex items-center justify-between p-3 rounded-lg transition-colors cursor-pointer" data-submenu="rh">
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-users w-5 text-center"></i>
                        <span class="sidebar-text">Recursos Humanos</span>
                    </div>
                    <i class="fas fa-chevron-right sidebar-text transition-transform"></i>
                </div>
                <ul class="submenu pl-4 space-y-1" id="rh-submenu">
                    <li>
                        <a href="/pages/hr/employees/employees.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-user-tie w-5 text-center"></i>
                            <span class="sidebar-text">Funcionários</span>
                        </a>
                    </li>
                    <li>
                        <a href="/pages/hr/timesheet/timesheet.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-clock w-5 text-center"></i>
                            <span class="sidebar-text">Registro de Ponto</span>
                        </a>
                    </li>
                    <li>
                        <a href="/pages/hr/departments/departments.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-building w-5 text-center"></i>
                            <span class="sidebar-text">Departamentos</span>
                        </a>
                    </li>
                </ul>
            </li>
            <!-- Finanças -->
            <li>
                <div class="menu-item flex items-center justify-between p-3 rounded-lg transition-colors cursor-pointer" data-submenu="finance">
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-dollar-sign w-5 text-center"></i>
                        <span class="sidebar-text">Finanças</span>
                    </div>
                    <i class="fas fa-chevron-right sidebar-text transition-transform"></i>
                </div>
                <ul class="submenu pl-4 space-y-1" id="finance-submenu">
                    <li>
                        <a href="/pages/finance/income/dash[Error] Erro ao buscar dados: – Error: Erro interno do servidor. Por favor, tente novamente. — welcome.js:101
                        Error: Erro interno do servidor. Por favor, tente novamente. — welcome.js:101
                            (função anónima) (welcome.js:110)
                        [Error] Failed to load resource: the server responded with a status of 500 (Internal Server Error) (me, line 0)
                        [Error] Erro ao buscar dados: – Error: Erro interno do servidor. Por favor, tente novamente. — welcome.js:101
                        Error: Erro interno do servidor. Por favor, tente novamente. — welcome.js:101
                            (função anónima) (welcome.js:110)
                        [Error] Failed to load resource: the server responded with a status of 500 (Internal Server Error) (me, line 0)
                        [Error] Erro ao buscar dados: – Error: Erro interno do servidor. Por favor, tente novamente. — welcome.js:101
                        Error: Erro interno do servidor. Por favor, tente novamente. — welcome.js:101
                            (função anónima) (welcome.js:110).finance.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-tachometer-alt w-5 text-center"></i>
                            <span class="sidebar-text">Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="/pages/finance/income/dash.income.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-chart-line w-5 text-center"></i>
                            <span class="sidebar-text">Receitas</span>
                        </a>
                    </li>
                    <li>
                        <a href="/pages/finance/cashout/dash.cashout.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-money-bill w-5 text-center"></i>
                            <span class="sidebar-text">Cashout</span>
                        </a>    
                    </li>
                    <li>
                        <a href="/pages/finance/expense/dash.expense.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-file-invoice-dollar w-5 text-center"></i>
                            <span class="sidebar-text">Despesas</span>
                        </a>
                    </li>
                </ul>
            </li>

            <!-- Nova seção Procurement -->
            <li>
                <div class="menu-item flex items-center justify-between p-3 rounded-lg transition-colors cursor-pointer" data-submenu="procurement">
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-shopping-cart w-5 text-center"></i>
                        <span class="sidebar-text">Compras</span>
                    </div>
                    <i class="fas fa-chevron-right sidebar-text transition-transform"></i>
                </div>
                <ul class="submenu pl-4 space-y-1" id="procurement-submenu">
                    <li>
                        <a href="/pages/procurement/store/dash.store.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-store w-5 text-center"></i>
                            <span class="sidebar-text">Loja Online</span>
                        </a>
                    </li>
                    <li>
                        <a href="/pages/procurement/orders/dash.orders.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-shopping-basket w-5 text-center"></i>
                            <span class="sidebar-text">Pedidos</span>
                        </a>
                    </li>
                    <li>
                        <a href="/pages/procurement/suppliers/dash.supplier.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-truck w-5 text-center"></i>
                            <span class="sidebar-text">Fornecedores</span>
                        </a>
                    </li>
                </ul>
            </li>

            <!-- Kitchen -->
            <li>
                <div class="menu-item flex items-center justify-between p-3 rounded-lg transition-colors cursor-pointer" data-submenu="kitchen">
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-utensils w-5 text-center"></i>
                        <span class="sidebar-text">Cozinha</span>
                    </div>
                    <i class="fas fa-chevron-right sidebar-text transition-transform"></i>
                </div>
                <ul class="submenu pl-4 space-y-1" id="kitchen-submenu">
                    <li>
                        <a href="/pages/kitchen/product/dash.productManagement.html" class="menu-item flex items-center space-x-3 p-3 rounded-lg transition-colors">
                            <i class="fas fa-box w-5 text-center"></i>
                            <span class="sidebar-text">Produtos</span>
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

    <!-- Footer com Tema e Logoff (Fixo na base) -->
    <div class="flex-shrink-0">
        <!-- Linha sutil -->
        <div class="mx-auto w-[70%] h-px bg-slate-700/50 mb-2"></div>
        
        <!-- Botões mais compactos -->
        <div class="px-4 py-2">
            <button class="menu-item flex items-center space-x-3 p-2 rounded-lg transition-colors w-full text-sm" id="themeToggle">
                <i class="fas fa-moon w-4 text-center"></i>
                <span class="sidebar-text">Modo Escuro</span>
            </button>
            <a href="/index.html" class="menu-item flex items-center space-x-3 p-2 rounded-lg transition-colors w-full text-sm text-slate-400 hover:text-red-400">
                <i class="fas fa-sign-out-alt w-4 text-center"></i>
                <span class="sidebar-text">Sair do Sistema</span>
            </a>
        </div>
    </div>
</nav> 